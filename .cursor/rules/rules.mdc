---
description: 
globs: 
alwaysApply: true
---
# Cursor Rules for Clean C#/.NET8/MAUI Development

## ğŸ§  General Philosophy
- Write as a senior developer with experience in both QA automation and software development.
- Every code block must compile with no warnings or errors.
- Follow the best coding practices for .NET 8 and MAUI.
- Assume that all code will be used in a production-quality app.
- Prioritize performance, readability, and maintainability.

---

## ğŸ§¹ Clean Code & Architecture

- âœ… Apply Clean Architecture: Domain, Application, Infrastructure, UI layers.
- âœ… Follow SOLID principles.
- âœ… Respect the DRY and KISS principles.
- âœ… Use dependency injection (no service locators or statics).
- âœ… Avoid business logic in the UI layer (especially MAUI `*.xaml.cs` code-behind).
- âœ… Each class and method should do one thing, and do it well.

---

## ğŸ§ª Testability & QA

- âœ… All business logic must be testable without UI.
- âœ… No hardcoded sleeps, waits, or static delays.
- âœ… Use interfaces and abstraction to allow mocking.
- âœ… Code must be deterministic and free from side effects where possible.
- âœ… Methods should be small, predictable, and isolated.

---

## ğŸ“ C# Language Features & Practices

- âœ… Prefer latest C# features (e.g. file-scoped namespaces, pattern matching, `required` properties).
- âœ… Use nullability (`#nullable enable`) and null guards.
- âœ… Use primary constructors and init-only properties when appropriate.
- âœ… Prefer `switch` expressions over long `if-else` chains.
- âœ… Always make use of expression-bodied members when it improves readability.
- âœ… Avoid public fields â€” use properties.
- âœ… Avoid magic strings/numbers; use constants or enums.

---

## ğŸ–¼ï¸ MAUI-Specific Rules

- âœ… Use MVVM: never bind directly to code-behind.
- âœ… Avoid UI logic in `*.xaml.cs`; use ViewModels and Commands.
- âœ… Use `BindableProperty` and `INotifyPropertyChanged` for reactive UIs.
- âœ… Organize resources: use styles, themes, and merged dictionaries.
- âœ… Avoid excessive use of third-party UI packages unless necessary.
- âœ… Always ensure UI components are responsive on all form factors.

---

## ğŸ§µ Async and Multithreading

- âœ… All I/O operations must use `async/await`.
- âœ… Never block on async code (`.Result`, `.Wait()`).
- âœ… Prefer `ConfigureAwait(false)` in library code.
- âœ… Validate threading context for UI updates (e.g., `MainThread.BeginInvokeOnMainThread` in MAUI).

---

## ğŸ§° Tooling and Build Rules

- âœ… Code must compile with `dotnet build` on .NET 8.
- âœ… Use nullable reference types (`<Nullable>enable</Nullable>`).
- âœ… Use `StyleCop.Analyzers` and/or Roslyn analyzers when applicable.
- âœ… No compiler warnings are allowed (treat warnings as errors).
- âœ… All NuGet packages should be the latest stable release.

---

## ğŸ“š Naming and Comments

- âœ… Use PascalCase for types, methods, and public properties.
- âœ… Use camelCase for private fields and method parameters.
- âœ… Use `_underscorePrefix` for private fields only when necessary.
- âœ… Use XML doc comments for public APIs.
- âœ… Avoid redundant comments â€” code should explain itself.

---

## ğŸ›‘ Forbidden Practices

- âŒ Static classes for business logic (except utility/helpers).
- âŒ Direct access to `HttpClient` â€” use typed `HttpClientFactory`.
- âŒ Long methods (prefer under 25 lines).
- âŒ Circular dependencies.
- âŒ Logic in constructors (keep them light).

---

## âœ… Output Requirements

- All code must compile with .NET 8 SDK.
- No runtime or build errors.
- No unreferenced usings or dead code.
- No hardcoded strings where localization applies.
- When generating code: include using statements, namespaces, and class context.

---


